<!DOCTYPEhtml><html><head><title>SuperMegaCoolResaltador</title><body style="white-space: pre"><div><p><span style="color:#1a9fe5">-- Single line comments start with two dashes.
</span></p><p><span style="color:#1a9fe5">{- Multiline comments can be enclosed
in a block like this.
-}</span></p><p></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 1. Primitive Datatypes and Operators
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- You have numbers
</span></p><p><span style="color: red">3</span><span style="color:#1a9fe5"> -- 3
</span></p><p><span style="color: green">123.345</span></p><p><span style="color: red">123</span></p><p><span style="color: green">123.4</span></p><p><span style="color: #e87e17">123.345E-12</span></p><p><span style="color: #e87e17">123.3e1</span></p><p><span style="color: #e87e17">123.5e-12</span></p><p></p><p><span style="color:#1a9fe5">-- Math is what you would expect
</span></p><p><span style="color: red">1</span><span style="color:#e1931e"> +</span><span style="color: red"> 1</span><span style="color:#1a9fe5"> -- 2
</span></p><p><span style="color: red">8</span><span style="color:#e1931e"> - </span><span style="color: red">1</span><span style="color:#1a9fe5"> -- 7
</span></p><p><span style="color: red">10</span><span style="color:#e1931e"> *</span><span style="color: red"> 2</span><span style="color:#1a9fe5"> -- 20
</span></p><p><span style="color: red">35</span><span style="color:#e1931e"> /</span><span style="color: red"> 5</span><span style="color:#1a9fe5"> -- 7.0
</span></p><p><span style="color:#1a9fe5">-- Division is not integer division by default
</span></p><p><span style="color: red">35</span><span style="color:#e1931e"> /</span><span style="color: red"> 4</span><span style="color:#1a9fe5"> -- 8.75
</span></p><p><span style="color:#1a9fe5">-- Boolean values are primitives
</span></p><p><span style="color:#5da28c">True</span></p><p><span style="color:#5da28c">False</span></p><p><span style="color:#1a9fe5">-- Boolean operations
</span></p><p><span style="color:#5da28c">not</span><span style="color:#5da28c"> True</span><span style="color:#1a9fe5"> -- False
</span></p><p><span style="color:#5da28c">not</span><span style="color:#5da28c"> False</span><span style="color:#1a9fe5"> -- True
</span></p><p><span style="color:#5da28c">True</span><span style="color:#e1931e"> &</span><span style="color:#e1931e">&</span><span style="color:#5da28c"> False</span><span style="color:#1a9fe5"> -- False
</span></p><p><span style="color:#5da28c">True</span><span style="color:#e1931e"> |</span><span style="color:#e1931e">|</span><span style="color:#5da28c"> False</span><span style="color:#1a9fe5"> -- True
</span></p><p><span style="color: red">1</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color: red"> 1</span><span style="color:#1a9fe5"> -- True
</span></p><p><span style="color: red">1</span><span style="color:#e1931e"> /</span><span style="color:#e1931e">=</span><span style="color: red"> 1</span><span style="color:#1a9fe5"> -- False
</span></p><p><span style="color: red">1</span><span style="color:#e1931e"> <</span><span style="color: red"> 10</span><span style="color:#1a9fe5"> -- True
</span></p><p><span style="color:#1a9fe5">-- In the above examples, `not` is a function that takes one value.
</span></p><p><span style="color:#1a9fe5">-- Haskell doesn't need parentheses for function calls...all the arguments
</span></p><p><span style="color:#1a9fe5">-- are just listed after the function. So the general pattern is:
</span></p><p><span style="color:#1a9fe5">-- func arg1 arg2 arg3...
</span></p><p><span style="color:#1a9fe5">-- See the section on functions for information on how to write your own.
</span></p><p><span style="color:#1a9fe5">-- Strings and characters
</span></p><p><span style="color: blue">"This is a string."</span></p><p><span style="color: blue">'a'</span><span style="color:#1a9fe5"> -- character
</span></p><p><span style="color:black">'Yo</span><span style="color:#5da28c">u</span><span style="color:#5da28c"> cant</span><span style="color:#5da28c"> use</span><span style="color:#5da28c"> single</span><span style="color:#5da28c"> quotes</span><span style="color:#5da28c"> for</span><span style="color:#5da28c"> strings</span><span style="color:#e1931e">.</span><span style="color:black">' -</span><span style="color:#e1931e">- </span><span style="color:#5da28c">error</span><span style="color:#e1931e">!</span></p><p><span style="color:#1a9fe5">-- Strings can be concatenated
</span></p><p><span style="color: blue">"Hello "</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color: blue"> "world!"</span><span style="color:#1a9fe5"> -- "Hello world!"
</span></p><p><span style="color:#1a9fe5">-- A string is a list of characters
</span></p><p><span style="color:#e1931e">[</span><span style="color: blue">'H'</span><span style="color:#e1931e">,</span><span style="color: blue"> 'e'</span><span style="color:#e1931e">,</span><span style="color: blue"> 'l'</span><span style="color:#e1931e">,</span><span style="color: blue"> 'l'</span><span style="color:#e1931e">,</span><span style="color: blue"> 'o'</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- "Hello"
</span></p><p><span style="color:#1a9fe5">-- Lists can be indexed with the `!!` operator followed by an index
</span></p><p><span style="color: blue">"This is a string"</span><span style="color:#e1931e"> !</span><span style="color:#e1931e">!</span><span style="color: red"> 0</span><span style="color:#1a9fe5"> -- 'T'
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 2. Lists and Tuples
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- Every element in a list must have the same type.
</span></p><p><span style="color:#1a9fe5">-- These two lists are equal:
</span></p><p><span style="color:#e1931e">[</span><span style="color: red">1</span><span style="color:#e1931e">,</span><span style="color: red"> 2</span><span style="color:#e1931e">,</span><span style="color: red"> 3</span><span style="color:#e1931e">,</span><span style="color: red"> 4</span><span style="color:#e1931e">,</span><span style="color: red"> 5</span><span style="color:#e1931e">]</span></p><p><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span></p><p><span style="color:#1a9fe5">-- Ranges are versatile.
</span></p><p><span style="color:#e1931e">[</span><span style="color: blue">'A'</span><span style="color:#e1931e">.</span><span style="color:#e1931e">.</span><span style="color: blue">'F'</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- "ABCDEF"
</span></p><p><span style="color:#1a9fe5">-- You can create a step in a range.
</span></p><p><span style="color:#e1931e">[</span><span style="color: red">0</span><span style="color:#e1931e">,</span><span style="color:black">2..</span><span style="color: red">10</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [0, 2, 4, 6, 8, 10]
</span></p><p></p><p><span style="color:#e1931e">[</span><span style="color:black">5..</span><span style="color: red">1</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [] (Haskell defaults to incrementing)
</span></p><p><span style="color:#e1931e">[</span><span style="color: red">5</span><span style="color:#e1931e">,</span><span style="color:black">4..</span><span style="color: red">1</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [5, 4, 3, 2, 1]
</span></p><p><span style="color:#1a9fe5">-- indexing into a list
</span></p><p><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">10</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> !</span><span style="color:#e1931e">!</span><span style="color: red"> 3</span><span style="color:#1a9fe5"> -- 4 (zero-based indexing)
</span></p><p><span style="color:#1a9fe5">-- You can also have infinite lists in Haskell!
</span></p><p><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- a list of all the natural numbers
</span></p><p><span style="color:#1a9fe5">-- Infinite lists work because Haskell has "lazy evaluation". This means
</span></p><p><span style="color:#1a9fe5">-- that Haskell only evaluates things when it needs to. So you can ask for
</span></p><p><span style="color:#1a9fe5">-- the 1000th element of your list and Haskell will give it to you:
</span></p><p><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> !</span><span style="color:#e1931e">!</span><span style="color: red"> 999</span><span style="color:#1a9fe5"> -- 1000
</span></p><p><span style="color:#1a9fe5">-- And now Haskell has evaluated elements 1 - 1000 of this list...but the
</span></p><p><span style="color:#1a9fe5">-- rest of the elements of this "infinite" list don't exist yet! Haskell won't
</span></p><p><span style="color:#1a9fe5">-- actually evaluate them until it needs to.
</span></p><p><span style="color:#1a9fe5">-- joining two lists
</span></p><p><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#e1931e"> [</span><span style="color:black">6..</span><span style="color: red">10</span><span style="color:#e1931e">]</span></p><p><span style="color:#1a9fe5">-- adding to the head of a list
</span></p><p><span style="color: red">0</span><span style="color:#e1931e">:</span><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [0, 1, 2, 3, 4, 5]
</span></p><p><span style="color:#1a9fe5">-- more list operations
</span></p><p><span style="color:#5da28c">head</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- 1
</span></p><p><span style="color:#5da28c">tail</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [2, 3, 4, 5]
</span></p><p><span style="color:#5da28c">init</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [1, 2, 3, 4]
</span></p><p><span style="color:#5da28c">last</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- 5
</span></p><p><span style="color:#1a9fe5">-- list comprehensions
</span></p><p><span style="color:#e1931e">[</span><span style="color:#5da28c">x</span><span style="color:#e1931e">*</span><span style="color: red">2</span><span style="color:#e1931e"> |</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [2, 4, 6, 8, 10]
</span></p><p><span style="color:#1a9fe5">-- with a conditional
</span></p><p><span style="color:#e1931e">[</span><span style="color:#5da28c">x</span><span style="color:#e1931e">*</span><span style="color: red">2</span><span style="color:#e1931e"> |</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#e1931e">[</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> x</span><span style="color:#e1931e">*</span><span style="color: red">2</span><span style="color:#e1931e"> ></span><span style="color: red"> 4</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [6, 8, 10]
</span></p><p><span style="color:#1a9fe5">-- Every element in a tuple can be a different type, but a tuple has a
</span></p><p><span style="color:#1a9fe5">-- fixed length.
</span></p><p><span style="color:#1a9fe5">-- A tuple:
</span></p><p><span style="color:#e1931e">(</span><span style="color: blue">"haskell"</span><span style="color:#e1931e">,</span><span style="color: red"> 1</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- accessing elements of a pair (i.e. a tuple of length 2)
</span></p><p><span style="color:#5da28c">fst</span><span style="color:#e1931e"> (</span><span style="color: blue">"haskell"</span><span style="color:#e1931e">,</span><span style="color: red"> 1</span><span style="color:#e1931e">)</span><span style="color:#1a9fe5"> -- "haskell"
</span></p><p><span style="color:#5da28c">snd</span><span style="color:#e1931e"> (</span><span style="color: blue">"haskell"</span><span style="color:#e1931e">,</span><span style="color: red"> 1</span><span style="color:#e1931e">)</span><span style="color:#1a9fe5"> -- 1
</span></p><p><span style="color:#1a9fe5">-- pair element accessing does not work on n-tuples (i.e. triple, quadruple, etc)
</span></p><p><span style="color:#5da28c">snd</span><span style="color:#e1931e"> (</span><span style="color: blue">"snd"</span><span style="color:#e1931e">,</span><span style="color: blue"> "can't touch this"</span><span style="color:#e1931e">,</span><span style="color: blue"> "da na na na"</span><span style="color:#e1931e">)</span><span style="color:#1a9fe5"> -- error! see function below
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 3. Functions
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- A simple function that takes two variables
</span></p><p><span style="color:#5da28c">add</span><span style="color:#5da28c"> a</span><span style="color:#5da28c"> b</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> b</span></p><p><span style="color:#1a9fe5">-- Note that if you are using ghci (the Haskell interpreter)
</span></p><p><span style="color:#1a9fe5">-- You'll need to use `let`, i.e.
</span></p><p><span style="color:#1a9fe5">-- let add a b = a + b
</span></p><p></p><p><span style="color:#1a9fe5">-- Using the function
</span></p><p><span style="color:#5da28c">add</span><span style="color: red"> 1</span><span style="color: red"> 2</span><span style="color:#1a9fe5"> -- 3
</span></p><p><span style="color:#1a9fe5">-- Guards: an easy way to do branching in functions
</span></p><p><span style="color:#5da28c">fib</span><span style="color:#5da28c"> x</span></p><p><span style="color:#e1931e">|</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> <</span><span style="color: red"> 2</span><span style="color:#e1931e"> =</span><span style="color: red">1</span></p><p><span style="color:#e1931e">|</span><span style="color:#5da28c"> otherwise</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> fib</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> - </span><span style="color: red">1</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> fib</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> - </span><span style="color: red">2</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- Pattern matching is similar. Here we have given three different
</span></p><p><span style="color:#1a9fe5">-- equations that define fib. Haskell will automatically use the first
</span></p><p><span style="color:#1a9fe5">-- equation whose left hand side pattern matches the value.
</span></p><p><span style="color:#5da28c">fib</span><span style="color: red"> 1</span><span style="color:#e1931e"> =</span><span style="color: red"> 1</span></p><p><span style="color:#5da28c">fib</span><span style="color: red"> 2</span><span style="color:#e1931e"> =</span><span style="color: red"> 2</span></p><p><span style="color:#5da28c">fib</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> fib</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> - </span><span style="color: red">1</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> fib</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> - </span><span style="color: red">2</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- Pattern matching on tuples
</span></p><p><span style="color:#5da28c">sndOfTriple</span><span style="color:#e1931e"> (</span><span style="color:#bd42bd">_</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">,</span><span style="color:#bd42bd"> _</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> y</span><span style="color:#1a9fe5"> -- use a wild card (_) to bypass naming unused value
</span></p><p><span style="color:#1a9fe5">-- Pattern matching on lists. Here `x` is the first element
</span></p><p><span style="color:#1a9fe5">-- in the list, and `xs` is the rest of the list. We can write
</span></p><p><span style="color:#1a9fe5">-- our own map function:
</span></p><p><span style="color:#5da28c">myMap</span><span style="color:#5da28c"> func</span><span style="color:#e1931e"> [</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> [</span><span style="color:#e1931e">]</span></p><p><span style="color:#5da28c">myMap</span><span style="color:#5da28c"> func</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e">:</span><span style="color:#5da28c">xs</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> func</span><span style="color:#5da28c"> x</span><span style="color:#e1931e">:</span><span style="color:#e1931e">(</span><span style="color:#5da28c">myMap</span><span style="color:#5da28c"> func</span><span style="color:#5da28c"> xs</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- Anonymous functions are created with a backslash followed by
</span></p><p><span style="color:#1a9fe5">-- all the arguments.
</span></p><p><span style="color:#5da28c">myMap</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">\</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> +</span><span style="color: red"> 2</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [3, 4, 5, 6, 7]
</span></p><p><span style="color:#1a9fe5">-- using fold (called `inject` in some languages) with an anonymous
</span></p><p><span style="color:#1a9fe5">-- function. foldl1 means fold left, and use the first value in the
</span></p><p><span style="color:#1a9fe5">-- list as the initial value for the accumulator.
</span></p><p><span style="color:#5da28c">foldl1</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">\</span><span style="color:#5da28c">acc</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> acc</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> x</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- 15
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 4. More functions
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- partial application: if you don't pass in all the arguments to a function,
</span></p><p><span style="color:#1a9fe5">-- it gets "partially applied". That means it returns a function that takes the
</span></p><p><span style="color:#1a9fe5">-- rest of the arguments.
</span></p><p><span style="color:#5da28c">add</span><span style="color:#5da28c"> a</span><span style="color:#5da28c"> b</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> b</span></p><p><span style="color:#5da28c">foo</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> add</span><span style="color: red"> 10</span><span style="color:#1a9fe5"> -- foo is now a function that takes a number and adds 10 to it
</span></p><p><span style="color:#5da28c">foo</span><span style="color: red"> 5</span><span style="color:#1a9fe5"> -- 15
</span></p><p><span style="color:#1a9fe5">-- Another way to write the same thing
</span></p><p><span style="color:#5da28c">foo</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> (</span><span style="color: red">10</span><span style="color:#e1931e">+</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">foo</span><span style="color: red"> 5</span><span style="color:#1a9fe5"> -- 15
</span></p><p><span style="color:#1a9fe5">-- function composition
</span></p><p><span style="color:#1a9fe5">-- the operator `.` chains functions together.
</span></p><p><span style="color:#1a9fe5">-- For example, here foo is a function that takes a value. It adds 10 to it,
</span></p><p><span style="color:#1a9fe5">-- multiplies the result of that by 4, and then returns the final value.
</span></p><p><span style="color:#5da28c">foo</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> (</span><span style="color: red">4</span><span style="color:#e1931e">*</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> .</span><span style="color:#e1931e"> (</span><span style="color: red">10</span><span style="color:#e1931e">+</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- 4*(10+5) = 60
</span></p><p><span style="color:#5da28c">foo</span><span style="color: red"> 5</span><span style="color:#1a9fe5"> -- 60
</span></p><p></p><p><span style="color:#1a9fe5">-- fixing precedence
</span></p><p><span style="color:#1a9fe5">-- Haskell has an operator called `$`. This operator applies a function
</span></p><p><span style="color:#1a9fe5">-- to a given parameter. In contrast to standard function application, which
</span></p><p><span style="color:#1a9fe5">-- has highest possible priority of 10 and is left-associative, the `$` operator
</span></p><p><span style="color:#1a9fe5">-- has priority of 0 and is right-associative. Such a low priority means that
</span></p><p><span style="color:#1a9fe5">-- the expression on its right is applied as a parameter to the function on its left.
</span></p><p><span style="color:#1a9fe5">-- before
</span></p><p><span style="color:#5da28c">even</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">fib</span><span style="color: red"> 7</span><span style="color:#e1931e">)</span><span style="color:#1a9fe5"> -- false
</span></p><p><span style="color:#1a9fe5">-- equivalently
</span></p><p><span style="color:#5da28c">even</span><span style="color:#e1931e"> $</span><span style="color:#5da28c"> fib</span><span style="color: red"> 7</span><span style="color:#1a9fe5"> -- false
</span></p><p><span style="color:#1a9fe5">-- composing functions
</span></p><p><span style="color:#5da28c">even</span><span style="color:#e1931e"> .</span><span style="color:#5da28c"> fib</span><span style="color:#e1931e"> $</span><span style="color: red"> 7</span><span style="color:#1a9fe5"> -- false
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 5. Type signatures
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- Haskell has a very strong type system, and every valid expression has a type.
</span></p><p><span style="color:#1a9fe5">-- Some basic types:
</span></p><p><span style="color: red">5</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Integer</span></p><p><span style="color: blue">"hello"</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> String</span></p><p><span style="color:#5da28c">True</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Bool</span></p><p><span style="color:#1a9fe5">-- Functions have types too.
</span></p><p><span style="color:#1a9fe5">-- `not` takes a boolean and returns a boolean:
</span></p><p><span style="color:#1a9fe5">-- not :: Bool -> Bool
</span></p><p><span style="color:#1a9fe5">-- Here's a function that takes two arguments:
</span></p><p><span style="color:#1a9fe5">-- add :: Integer -> Integer -> Integer
</span></p><p><span style="color:#1a9fe5">-- When you define a value, it's good practice to write its type above it:
</span></p><p><span style="color:#5da28c">double</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Integer</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Integer</span></p><p><span style="color:#5da28c">double</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> *</span><span style="color: red"> 2</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 6. Control Flow and If Expressions
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- if-expressions
</span></p><p><span style="color:#5da28c">haskell</span><span style="color:#e1931e"> =</span><span style="color:#bd42bd"> if</span><span style="color: red"> 1</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color: red"> 1</span><span style="color:#bd42bd"> then</span><span style="color: blue"> "awesome"</span><span style="color:#bd42bd"> else</span><span style="color: blue"> "awful"</span><span style="color:#1a9fe5"> -- haskell = "awesome"
</span></p><p><span style="color:#1a9fe5">-- if-expressions can be on multiple lines too, indentation is important
</span></p><p><span style="color:#5da28c">haskell</span><span style="color:#e1931e"> =</span><span style="color:#bd42bd"> if</span><span style="color: red"> 1</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color: red"> 1</span></p><p><span style="color:#bd42bd">            then</span><span style="color: blue"> "awesome"</span></p><p><span style="color:#bd42bd">            else</span><span style="color: blue"> "awful"</span></p><p><span style="color:#1a9fe5">-- case expressions: Here's how you could parse command line arguments
</span></p><p><span style="color:#bd42bd">case</span><span style="color:#5da28c"> args</span><span style="color:#bd42bd"> of</span></p><p><span style="color: blue">  "help"</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> printHelp</span></p><p><span style="color: blue">  "start"</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> startProgram</span></p><p><span style="color:#bd42bd">  _</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> putStrLn</span><span style="color: blue"> "bad args"</span></p><p></p><p><span style="color:#1a9fe5">-- Haskell doesn't have loops; it uses recursion instead.
</span></p><p><span style="color:#1a9fe5">-- map applies a function over every element in a list
</span></p><p><span style="color:#5da28c">map</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">*</span><span style="color: red">2</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> [</span><span style="color:black">1..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- [2, 4, 6, 8, 10]
</span></p><p><span style="color:#1a9fe5">-- you can make a for function using map
</span></p><p><span style="color:#5da28c">for</span><span style="color:#5da28c"> array</span><span style="color:#5da28c"> func</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> map</span><span style="color:#5da28c"> func</span><span style="color:#5da28c"> array</span></p><p><span style="color:#1a9fe5">-- and then use it
</span></p><p><span style="color:#5da28c">for</span><span style="color:#e1931e"> [</span><span style="color:black">0..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> $</span><span style="color:#e1931e"> \</span><span style="color:#5da28c">i</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> show</span><span style="color:#5da28c"> i</span></p><p><span style="color:#1a9fe5">-- we could've written that like this too:
</span></p><p><span style="color:#5da28c">for</span><span style="color:#e1931e"> [</span><span style="color:black">0..</span><span style="color: red">5</span><span style="color:#e1931e">]</span><span style="color:#5da28c"> show</span></p><p><span style="color:#1a9fe5">-- You can use foldl or foldr to reduce a list
</span></p><p><span style="color:#1a9fe5">-- foldl <fn> <initial value> <list>
</span></p><p><span style="color:#5da28c">foldl</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">\</span><span style="color:#5da28c">x</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> -></span><span style="color: red"> 2</span><span style="color:#e1931e">*</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span><span style="color: red"> 4</span><span style="color:#e1931e"> [</span><span style="color: red">1</span><span style="color:#e1931e">,</span><span style="color: red">2</span><span style="color:#e1931e">,</span><span style="color: red">3</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- 43
</span></p><p><span style="color:#1a9fe5">-- This is the same as
</span></p><p><span style="color:#e1931e">(</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color:#e1931e"> (</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color:#e1931e"> (</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color: red"> 4</span><span style="color:#e1931e"> +</span><span style="color: red"> 1</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> +</span><span style="color: red"> 2</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> +</span><span style="color: red"> 3</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- foldl is left-handed, foldr is right-handed
</span></p><p><span style="color:#5da28c">foldr</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">\</span><span style="color:#5da28c">x</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> -></span><span style="color: red"> 2</span><span style="color:#e1931e">*</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span><span style="color: red"> 4</span><span style="color:#e1931e"> [</span><span style="color: red">1</span><span style="color:#e1931e">,</span><span style="color: red">2</span><span style="color:#e1931e">,</span><span style="color: red">3</span><span style="color:#e1931e">]</span><span style="color:#1a9fe5"> -- 16
</span></p><p><span style="color:#1a9fe5">-- This is now the same as
</span></p><p><span style="color:#e1931e">(</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color: red"> 1</span><span style="color:#e1931e"> +</span><span style="color:#e1931e"> (</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color: red"> 2</span><span style="color:#e1931e"> +</span><span style="color:#e1931e"> (</span><span style="color: red">2</span><span style="color:#e1931e"> *</span><span style="color: red"> 3</span><span style="color:#e1931e"> +</span><span style="color: red"> 4</span><span style="color:#e1931e">)</span><span style="color:#e1931e">)</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 7. Data Types
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- A data type is declared with a 'type constructor' on the left
</span></p><p><span style="color:#1a9fe5">-- and one or more 'data constructors' on the right, separated by
</span></p><p><span style="color:#1a9fe5">-- the pipe | symbol. This is a sum/union type. Each data constructor
</span></p><p><span style="color:#1a9fe5">-- is a (possibly nullary) function that creates an object of the type
</span></p><p><span style="color:#1a9fe5">-- named by the type constructor.
</span></p><p><span style="color:#1a9fe5">-- This is essentially an enum
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Color</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Red</span><span style="color:#e1931e"> |</span><span style="color:#5da28c"> Blue</span><span style="color:#e1931e"> |</span><span style="color:#5da28c"> Green</span></p><p><span style="color:#1a9fe5">-- Now you can use it in a function:
</span></p><p><span style="color:#5da28c">say</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Color</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> String</span></p><p><span style="color:#5da28c">say</span><span style="color:#5da28c"> Red</span><span style="color:#e1931e">   =</span><span style="color: blue"> "You are Red!"</span></p><p><span style="color:#5da28c">say</span><span style="color:#5da28c"> Blue</span><span style="color:#e1931e">  =</span><span style="color: blue"> "You are Blue!"</span></p><p><span style="color:#5da28c">say</span><span style="color:#5da28c"> Green</span><span style="color:#e1931e"> =</span><span style="color: blue"> "You are Green!"</span></p><p><span style="color:#1a9fe5">-- Note that the type constructor is used in the type signature
</span></p><p><span style="color:#1a9fe5">-- and the data constructors are used in the body of the function
</span></p><p><span style="color:#1a9fe5">-- Data constructors are primarily pattern-matched against
</span></p><p><span style="color:#1a9fe5">-- This next one is a traditional container type holding two fields
</span></p><p><span style="color:#1a9fe5">-- In a type declaration, data constructors take types as parameters
</span></p><p><span style="color:#1a9fe5">-- Data constructors can have the same name as type constructors
</span></p><p><span style="color:#1a9fe5">-- This is common where the type only has a single data constructor
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Point</span><span style="color:#5da28c"> Float</span><span style="color:#5da28c"> Float</span></p><p></p><p><span style="color:#1a9fe5">-- This can be used in a function like:
</span></p><p><span style="color:#5da28c">distance</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Float</span></p><p><span style="color:#5da28c">distance</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Point</span><span style="color:#5da28c"> x</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Point</span><span style="color:#5da28c"> x'</span><span style="color:#5da28c"> y'</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> sqrt</span><span style="color:#e1931e"> $</span><span style="color:#5da28c"> dx</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> dy</span></p><p><span style="color:#bd42bd">    where</span><span style="color:#5da28c"> dx</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> - </span><span style="color:#5da28c">x'</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> *</span><span style="color:#e1931e">*</span><span style="color: red"> 2</span></p><p><span style="color:#5da28c">          dy</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">y</span><span style="color:#e1931e"> - </span><span style="color:#5da28c">y'</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> *</span><span style="color:#e1931e">*</span><span style="color: red"> 2</span></p><p><span style="color:#1a9fe5">-- Types can have multiple data constructors with arguments, too
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Name</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Mononym</span><span style="color:#5da28c"> String</span></p><p><span style="color:#e1931e">          |</span><span style="color:#5da28c"> FirstLastName</span><span style="color:#5da28c"> String</span><span style="color:#5da28c"> String</span></p><p><span style="color:#e1931e">          |</span><span style="color:#5da28c"> FullName</span><span style="color:#5da28c"> String</span><span style="color:#5da28c"> String</span><span style="color:#5da28c"> String</span></p><p><span style="color:#1a9fe5">-- To make things clearer we can use record syntax
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Point2D</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> CartesianPoint2D</span><span style="color:black"> { </span><span style="color:#5da28c">x</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Float</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Float</span><span style="color:black"> }</span></p><p><span style="color:#e1931e">             |</span><span style="color:#5da28c"> PolarPoint2D</span><span style="color:black"> { </span><span style="color:#5da28c">r</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Float</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> theta</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Float</span><span style="color:black"> }</span></p><p><span style="color:#5da28c">myPoint</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> CartesianPoint2D</span><span style="color:black"> { </span><span style="color:#5da28c">x</span><span style="color:#e1931e"> =</span><span style="color: green"> 7.0</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> =</span><span style="color: green"> 10.0</span><span style="color:black"> }</span></p><p><span style="color:#1a9fe5">-- Using record syntax automatically creates accessor functions
</span></p><p><span style="color:#1a9fe5">-- (the name of the field)
</span></p><p><span style="color:#5da28c">xOfMyPoint</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> x</span><span style="color:#5da28c"> myPoint</span></p><p><span style="color:#1a9fe5">-- xOfMyPoint is equal to 7.0
</span></p><p><span style="color:#1a9fe5">-- Record syntax also allows a simple form of update
</span></p><p><span style="color:#5da28c">myPoint'</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> myPoint</span><span style="color:black"> { </span><span style="color:#5da28c">x</span><span style="color:#e1931e"> =</span><span style="color: green"> 9.0</span><span style="color:black"> }</span></p><p><span style="color:#1a9fe5">-- myPoint' is CartesianPoint2D { x = 9.0, y = 10.0 }
</span></p><p><span style="color:#1a9fe5">-- Even if a type is defined with record syntax, it can be declared like
</span></p><p><span style="color:#1a9fe5">-- a simple data constructor. This is fine:
</span></p><p><span style="color:#5da28c">myPoint'2</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> CartesianPoint2D</span><span style="color: green"> 3.3</span><span style="color: green"> 4.0</span></p><p><span style="color:#1a9fe5">-- It's also useful to pattern match data constructors in `case` expressions
</span></p><p><span style="color:#5da28c">distanceFromOrigin</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> =</span></p><p><span style="color:#bd42bd">    case</span><span style="color:#5da28c"> x</span><span style="color:#bd42bd"> of</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">CartesianPoint2D</span><span style="color:#5da28c"> x</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> sqrt</span><span style="color:#e1931e"> $</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> *</span><span style="color:#e1931e">*</span><span style="color: red"> 2</span><span style="color:#e1931e"> +</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> *</span><span style="color:#e1931e">*</span><span style="color: red"> 2</span></p><p><span style="color:#e1931e">              (</span><span style="color:#5da28c">PolarPoint2D</span><span style="color:#5da28c"> r</span><span style="color:#bd42bd"> _</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> r</span></p><p><span style="color:#1a9fe5">-- Your data types can have type parameters too:
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Maybe</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Nothing</span><span style="color:#e1931e"> |</span><span style="color:#5da28c"> Just</span><span style="color:#5da28c"> a</span></p><p><span style="color:#1a9fe5">-- These are all of type Maybe
</span></p><p><span style="color:#5da28c">Just</span><span style="color: blue"> "hello"</span></p><p><span style="color:#5da28c">Just</span><span style="color: red"> 1</span></p><p><span style="color:#5da28c">Nothing</span></p><p><span style="color:#1a9fe5">-- of type `Maybe String`
</span></p><p><span style="color:#1a9fe5">-- of type `Maybe Int`
</span></p><p><span style="color:#1a9fe5">-- of type `Maybe a` for any `a`
</span></p><p><span style="color:#1a9fe5">-- For convenience we can also create type synonyms with the 'type' keyword
</span></p><p><span style="color:#bd42bd">type</span><span style="color:#5da28c"> String</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> [</span><span style="color:#5da28c">Char</span><span style="color:#e1931e">]</span></p><p></p><p><span style="color:#1a9fe5">-- Unlike `data` types, type synonyms need no constructor, and can be used
</span></p><p><span style="color:#1a9fe5">-- anywhere a synonymous data type could be used. Say we have the
</span></p><p><span style="color:#1a9fe5">-- following type synonyms and items with the following type signatures
</span></p><p><span style="color:#bd42bd">type</span><span style="color:#5da28c"> Weight</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Float</span></p><p><span style="color:#bd42bd">type</span><span style="color:#5da28c"> Height</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Float</span></p><p><span style="color:#bd42bd">type</span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Float</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> Float</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">getMyHeightAndWeight</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Person</span><span style="color:#e1931e"> -></span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Height</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> Weight</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">findCenter</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Circle</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Point</span></p><p><span style="color:#5da28c">somePerson</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Person</span></p><p><span style="color:#5da28c">someCircle</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Circle</span></p><p><span style="color:#5da28c">distance</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Float</span></p><p><span style="color:#1a9fe5">-- The following would compile and run without issue,
</span></p><p><span style="color:#1a9fe5">-- even though it does not make sense semantically,
</span></p><p><span style="color:#1a9fe5">-- because the type synonyms reduce to the same base types
</span></p><p><span style="color:#5da28c">distance</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">getMyHeightAndWeight</span><span style="color:#5da28c"> somePerson</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">findCenter</span><span style="color:#5da28c"> someCircle</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 8. Typeclasses
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- Typeclasses are one way Haskell does polymorphism
</span></p><p><span style="color:#1a9fe5">-- They are similar to interfaces in other languages
</span></p><p><span style="color:#1a9fe5">-- A typeclass defines a set of functions that must
</span></p><p><span style="color:#1a9fe5">-- work on any type that is in that typeclass.
</span></p><p><span style="color:#1a9fe5">-- The Eq typeclass is for types whose instances can
</span></p><p><span style="color:#1a9fe5">-- be tested for equality with one another.
</span></p><p><span style="color:#bd42bd">class</span><span style="color:#5da28c"> Eq</span><span style="color:#5da28c"> a</span><span style="color:#bd42bd"> where</span></p><p><span style="color:#e1931e">    (</span><span style="color:#e1931e">=</span><span style="color:#e1931e">=</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Bool</span></p><p><span style="color:#e1931e">    (</span><span style="color:#e1931e">/</span><span style="color:#e1931e">=</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Bool</span></p><p><span style="color:#5da28c">    x</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> not</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> /</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">    x</span><span style="color:#e1931e"> /</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> not</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">x</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> y</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- This defines a typeclass that requires two functions, (==) and (/=)
</span></p><p><span style="color:#1a9fe5">-- It also declares that one function can be declared in terms of another
</span></p><p><span style="color:#1a9fe5">-- So it is enough that *either* the (==) function or the (/=) is defined
</span></p><p><span style="color:#1a9fe5">-- And the other will be 'filled in' based on the typeclass definition
</span></p><p><span style="color:#1a9fe5">-- To make a type a member of a type class, the instance keyword is used
</span></p><p><span style="color:#bd42bd">instance</span><span style="color:#5da28c"> Eq</span><span style="color:#5da28c"> TrafficLight</span><span style="color:#bd42bd"> where</span></p><p><span style="color:#5da28c">    Red</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> Red</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> True</span></p><p><span style="color:#5da28c">    Green</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> Green</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> True</span></p><p><span style="color:#5da28c">    Yellow</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> Yellow</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> True</span></p><p><span style="color:#bd42bd">    _</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#bd42bd"> _</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> False</span></p><p><span style="color:#1a9fe5">-- Now we can use (==) and (/=) with TrafficLight objects
</span></p><p><span style="color:#5da28c">canProceedThrough</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> TrafficLight</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Bool</span></p><p><span style="color:#5da28c">canProceedThrough</span><span style="color:#5da28c"> t</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> t</span><span style="color:#e1931e"> /</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> Red</span></p><p><span style="color:#1a9fe5">-- You can NOT create an instance definition for a type synonym
</span></p><p><span style="color:#1a9fe5">-- Functions can be written to take typeclasses with type parameters,
</span></p><p></p><p><span style="color:#1a9fe5">-- rather than types, assuming that the function only relies on
</span></p><p><span style="color:#1a9fe5">-- features of the typeclass
</span></p><p><span style="color:#5da28c">isEqual</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Eq</span><span style="color:#5da28c"> a</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">></span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> Bool</span></p><p><span style="color:#5da28c">isEqual</span><span style="color:#5da28c"> x</span><span style="color:#5da28c"> y</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> x</span><span style="color:#e1931e"> =</span><span style="color:#e1931e">=</span><span style="color:#5da28c"> y</span></p><p><span style="color:#1a9fe5">-- Note that x and y MUST be the same type, as they are both defined
</span></p><p><span style="color:#1a9fe5">-- as being of type parameter 'a'.
</span></p><p><span style="color:#1a9fe5">-- A typeclass does not state that different types in the typeclass can
</span></p><p><span style="color:#1a9fe5">-- be mixed together.
</span></p><p><span style="color:#1a9fe5">-- So `isEqual Red 2` is invalid, even though 2 is an Int which is an
</span></p><p><span style="color:#1a9fe5">-- instance of Eq, and Red is a TrafficLight which is also an instance of Eq
</span></p><p><span style="color:#1a9fe5">-- Other common typeclasses are:
</span></p><p><span style="color:#1a9fe5">-- Ord for types that can be ordered, allowing you to use >, <=, etc.
</span></p><p><span style="color:#1a9fe5">-- Read for types that can be created from a string representation
</span></p><p><span style="color:#1a9fe5">-- Show for types that can be converted to a string for display
</span></p><p><span style="color:#1a9fe5">-- Num, Real, Integral, Fractional for types that can do math
</span></p><p><span style="color:#1a9fe5">-- Enum for types that can be stepped through
</span></p><p><span style="color:#1a9fe5">-- Bounded for types with a maximum and minimum
</span></p><p><span style="color:#1a9fe5">-- Haskell can automatically make types part of Eq, Ord, Read, Show, Enum,
</span></p><p><span style="color:#1a9fe5">-- and Bounded with the `deriving` keyword at the end of the type declaration
</span></p><p><span style="color:#bd42bd">data</span><span style="color:#5da28c"> Point</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> Point</span><span style="color:#5da28c"> Float</span><span style="color:#5da28c"> Float</span><span style="color:#bd42bd"> deriving</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">Eq</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> Read</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> Show</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- In this case it is NOT necessary to create an 'instance' definition
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 9. Haskell IO
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- While IO can't be explained fully without explaining monads,
</span></p><p><span style="color:#1a9fe5">-- it is not hard to explain enough to get going.
</span></p><p><span style="color:#1a9fe5">-- When a Haskell program is executed, `main` is
</span></p><p><span style="color:#1a9fe5">-- called. It must return a value of type `IO a` for some type `a`. For example:
</span></p><p><span style="color:#5da28c">main</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> IO</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">main</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> putStrLn</span><span style="color:#e1931e"> $</span><span style="color: blue"> "Hello, sky! "</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">say</span><span style="color:#5da28c"> Blue</span><span style="color:#e1931e">)</span></p><p><span style="color:#1a9fe5">-- putStrLn has type String -> IO ()
</span></p><p><span style="color:#1a9fe5">-- It is easiest to do IO if you can implement your program as
</span></p><p><span style="color:#1a9fe5">-- a function from String to String. The function
</span></p><p><span style="color:#1a9fe5">--    interact :: (String -> String) -> IO ()
</span></p><p><span style="color:#1a9fe5">-- inputs some text, runs a function on it, and prints out the
</span></p><p><span style="color:#1a9fe5">-- output.
</span></p><p><span style="color:#5da28c">countLines</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> String</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> String</span></p><p><span style="color:#5da28c">countLines</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> show</span><span style="color:#e1931e"> .</span><span style="color:#5da28c"> length</span><span style="color:#e1931e"> .</span><span style="color:#5da28c"> lines</span></p><p><span style="color:#5da28c">main'</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> interact</span><span style="color:#5da28c"> countLines</span></p><p><span style="color:#1a9fe5">-- You can think of a value of type `IO ()` as representing a
</span></p><p><span style="color:#1a9fe5">-- sequence of actions for the computer to do, much like a
</span></p><p><span style="color:#1a9fe5">-- computer program written in an imperative language. We can use
</span></p><p><span style="color:#1a9fe5">-- the `do` notation to chain actions together. For example:
</span></p><p></p><p><span style="color:#5da28c">sayHello</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> IO</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">)</span></p><p><span style="color:#5da28c">sayHello</span><span style="color:#e1931e"> =</span><span style="color:#bd42bd"> do</span></p><p><span style="color:#5da28c">   putStrLn</span><span style="color: blue"> "What is your name?"</span></p><p><span style="color:#5da28c">   name</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#5da28c">getLine</span><span style="color:#1a9fe5"> -- this gets a line and gives it the name "name"
</span></p><p><span style="color:#5da28c">   putStrLn</span><span style="color:#e1931e"> $</span><span style="color: blue"> "Hello, "</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#5da28c"> name</span></p><p><span style="color:#1a9fe5">-- Exercise: write your own version of `interact` that only reads
</span></p><p><span style="color:#1a9fe5">--           one line of input.
</span></p><p><span style="color:#1a9fe5">-- The code in `sayHello` will never be executed, however. The only
</span></p><p><span style="color:#1a9fe5">-- action that ever gets executed is the value of `main`.
</span></p><p><span style="color:#1a9fe5">-- To run `sayHello` comment out the above definition of `main`
</span></p><p><span style="color:#1a9fe5">-- and replace it with:
</span></p><p><span style="color:#1a9fe5">--   main = sayHello
</span></p><p><span style="color:#1a9fe5">-- Let's understand better how the function `getLine` we just
</span></p><p><span style="color:#1a9fe5">-- used works. Its type is:
</span></p><p><span style="color:#1a9fe5">--    getLine :: IO String
</span></p><p><span style="color:#1a9fe5">-- You can think of a value of type `IO a` as representing a
</span></p><p><span style="color:#1a9fe5">-- computer program that will generate a value of type `a`
</span></p><p><span style="color:#1a9fe5">-- when executed (in addition to anything else it does). We can
</span></p><p><span style="color:#1a9fe5">-- name and reuse this value using `<-`. We can also
</span></p><p><span style="color:#1a9fe5">-- make our own action of type `IO String`:
</span></p><p><span style="color:#5da28c">action</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> IO</span><span style="color:#5da28c"> String</span></p><p><span style="color:#5da28c">action</span><span style="color:#e1931e"> =</span><span style="color:#bd42bd"> do</span></p><p><span style="color:#5da28c">   putStrLn</span><span style="color: blue"> "This is a line. Duh"</span></p><p><span style="color:#5da28c">   input1</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#5da28c">getLine</span></p><p><span style="color:#5da28c">   input2</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#5da28c">getLine</span></p><p><span style="color:#1a9fe5">   -- The type of the `do` statement is that of its last line.
</span></p><p><span style="color:#1a9fe5">   -- `return` is not a keyword, but merely a function
</span></p><p><span style="color:#5da28c">   return</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">input1</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color: blue"> "\n"</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#5da28c"> input2</span><span style="color:#e1931e">)</span><span style="color:#1a9fe5"> -- return :: String -> IO String
</span></p><p><span style="color:#1a9fe5">-- We can use this just like we used `getLine`:
</span></p><p><span style="color:#5da28c">main''</span><span style="color:#e1931e"> =</span><span style="color:#bd42bd"> do</span></p><p><span style="color:#5da28c">    putStrLn</span><span style="color: blue"> "I will echo two lines!"</span></p><p><span style="color:#5da28c">    result</span><span style="color:#e1931e"> <</span><span style="color:#e1931e">- </span><span style="color:#5da28c">action</span></p><p><span style="color:#5da28c">    putStrLn</span><span style="color:#5da28c"> result</span></p><p><span style="color:#5da28c">    putStrLn</span><span style="color: blue"> "This was all, folks!"</span></p><p><span style="color:#1a9fe5">-- The type `IO` is an example of a "monad". The way Haskell uses a monad to
</span></p><p><span style="color:#1a9fe5">-- do IO allows it to be a purely functional language. Any function that
</span></p><p><span style="color:#1a9fe5">-- interacts with the outside world (i.e. does IO) gets marked as `IO` in its
</span></p><p><span style="color:#1a9fe5">-- type signature. This lets us reason about which functions are "pure" (don't
</span></p><p><span style="color:#1a9fe5">-- interact with the outside world or modify state) and which functions aren't.
</span></p><p><span style="color:#1a9fe5">-- This is a powerful feature, because it's easy to run pure functions
</span></p><p><span style="color:#1a9fe5">-- concurrently; so, concurrency in Haskell is very easy.
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- 10. The Haskell REPL
</span></p><p><span style="color:#1a9fe5">----------------------------------------------------
</span></p><p><span style="color:#1a9fe5">-- Start the repl by typing `ghci`.
</span></p><p><span style="color:#1a9fe5">-- Now you can type in Haskell code. Any new values
</span></p><p><span style="color:#1a9fe5">-- need to be created with `let`:
</span></p><p></p><p><span style="color:#bd42bd">let</span><span style="color:#5da28c"> foo</span><span style="color:#e1931e"> =</span><span style="color: red"> 5</span></p><p><span style="color:#1a9fe5">-- You can see the type of any value or expression with `:t`:
</span></p><p><span style="color:#e1931e">></span><span style="color:#e1931e"> :</span><span style="color:#5da28c">t</span><span style="color:#5da28c"> foo</span></p><p><span style="color:#5da28c">foo</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> Integer</span></p><p><span style="color:#1a9fe5">-- Operators, such as `+`, `:` and `$`, are functions.
</span></p><p><span style="color:#1a9fe5">-- Their type can be inspected by putting the operator in parentheses:
</span></p><p><span style="color:#e1931e">></span><span style="color:#e1931e"> :</span><span style="color:#5da28c">t</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">:</span><span style="color:#e1931e">)</span></p><p><span style="color:#e1931e">(</span><span style="color:#e1931e">:</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#e1931e"> [</span><span style="color:#5da28c">a</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> -></span><span style="color:#e1931e"> [</span><span style="color:#5da28c">a</span><span style="color:#e1931e">]</span></p><p><span style="color:#1a9fe5">-- You can get additional information on any `name` using `:i`:
</span></p><p><span style="color:#e1931e">></span><span style="color:#e1931e"> :</span><span style="color:#5da28c">i</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">+</span><span style="color:#e1931e">)</span></p><p><span style="color:#bd42bd">class</span><span style="color:#5da28c"> Num</span><span style="color:#5da28c"> a</span><span style="color:#bd42bd"> where</span></p><p><span style="color:#e1931e">  (</span><span style="color:#e1931e">+</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> :</span><span style="color:#e1931e">:</span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> a</span><span style="color:#e1931e"> -></span><span style="color:#5da28c"> a</span></p><p><span style="color:#e1931e">  .</span><span style="color:#e1931e">.</span><span style="color:#e1931e">.</span></p><p><span style="color:black">    -- Defined in </span><span style="color:#5da28c">GHC</span><span style="color:#e1931e">.</span><span style="color:black">Num</span></p><p><span style="color:#bd42bd">infixl</span><span style="color: red"> 6</span><span style="color:#e1931e"> +</span></p><p><span style="color:#1a9fe5">-- You can also run any action of type `IO ()`
</span></p><p><span style="color:#e1931e">></span><span style="color:#5da28c"> sayHello</span></p><p><span style="color:#5da28c">What</span><span style="color:#5da28c"> is</span><span style="color:#5da28c"> your</span><span style="color:#5da28c"> name</span><span style="color:#e1931e">?</span></p><p><span style="color:#5da28c">Friend</span><span style="color:#e1931e">!</span></p><p><span style="color:#5da28c">Hello</span><span style="color:#e1931e">,</span><span style="color:#5da28c"> Friend</span><span style="color:#e1931e">!</span></p><p><span style="color:#1a9fe5">-- Ejemplo adicional:
</span></p><p><span style="color:#5da28c">qsort</span><span style="color:#e1931e"> [</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> =</span><span style="color:#e1931e"> [</span><span style="color:#e1931e">]</span></p><p><span style="color:#5da28c">qsort</span><span style="color:#e1931e"> (</span><span style="color:#5da28c">p</span><span style="color:#e1931e">:</span><span style="color:#5da28c">xs</span><span style="color:#e1931e">)</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> qsort</span><span style="color:#5da28c"> lesser</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#e1931e"> [</span><span style="color:#5da28c">p</span><span style="color:#e1931e">]</span><span style="color:#e1931e"> +</span><span style="color:#e1931e">+</span><span style="color:#5da28c"> qsort</span><span style="color:#5da28c"> greater</span></p><p><span style="color:#bd42bd">    where</span><span style="color:#5da28c"> lesser</span><span style="color:#e1931e">  =</span><span style="color:#5da28c"> filter</span><span style="color:#e1931e"> (</span><span style="color:#e1931e"><</span><span style="color:#5da28c"> p</span><span style="color:#e1931e">)</span><span style="color:#5da28c"> xs</span></p><p><span style="color:#5da28c">          greater</span><span style="color:#e1931e"> =</span><span style="color:#5da28c"> filter</span><span style="color:#e1931e"> (</span><span style="color:#e1931e">></span><span style="color:#e1931e">=</span><span style="color:#5da28c"> p</span><span style="color:#e1931e">)</span><span style="color:#5da28c"> xs
</span><span style="color:black"></span></p></div></body></html>